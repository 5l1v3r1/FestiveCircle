{% extends 'base.html' %}
{% load static %}

{% block content %}
<link rel="stylesheet" type="text/css" href="{% static 'ad/css/ads.css' %}">
<div class="row heading-container pr-5 pl-5 m-0 justify-content-center">
    <div class="col-1 pt-2 pb-2 mb-1 mt-1">
        <a href="{% url 'main' %}">
                <svg class="svg-logo" viewBox="0 0 512 512" xmlns="http://www.w3.org/2000/svg">
                <circle  cx="256" cy="72" r="8" />
                <path d="m326.37 160a112.12 112.12 0 0 0-33.84-24.04 133.54 133.54 0 0 1 12.789 24.04z" />
                <path d="m264 160h23.811c-7.273-15.449-15.531-25.824-23.811-29.97z" />
                <path d="m354.33 160a168.94 168.94 0 0 0-15.312-9.9q4.479 4.682 8.7 9.9z" />
                <path d="m311.24 416h28.658a179.58 179.58 0 0 0 24.514-48h-41.88a315.85 315.85 0 0 1-11.292 48z" />
                <path d="M264,352h44.655a449.313,449.313,0,0,0,3.276-48H264Z" />
                <path d="M264,416h30.334a286.568,286.568,0,0,0,12-48H264Z" />
                <path d="m292.53 456.04a112.12 112.12 0 0 0 33.84-24.04h-21.051a133.54 133.54 0 0 1-12.789 24.04z" />
                <path
                    d="M342.656,107.562,352,121.578l9.344-14.016a8.02,8.02,0,0,1,2.218-2.218L377.578,96l-14.016-9.344a8.02,8.02,0,0,1-2.218-2.218L352,70.422l-9.344,14.016a8.02,8.02,0,0,1-2.218,2.218L326.422,96l14.016,9.344A8.02,8.02,0,0,1,342.656,107.562Z" />
                <path d="m375.86 288a226.72 226.72 0 0 0-6.719-48h-44.382a469.52 469.52 0 0 1 3.174 48z" />
                <path d="m369.14 352a226.72 226.72 0 0 0 6.719-48h-47.927a469.52 469.52 0 0 1-3.174 48z" />
                <path d="m264 176v48h42.329a286.54 286.54 0 0 0-12-48z" />
                <path d="m391.87 288h31.933a166.29 166.29 0 0 0-9.473-48h-28.7a244.1 244.1 0 0 1 6.24 48z" />
                <path d="m407.68 224a169.48 169.48 0 0 0-34.411-48h-14.07a201.71 201.71 0 0 1 22.055 48z" />
                <path d="m311.24 176a315.85 315.85 0 0 1 11.289 48h41.88a179.58 179.58 0 0 0-24.511-48z" />
                <path d="m338.72 442.21q6.188-3.5 12.076-7.515l-4.136-1.379c-2.572 3.117-5.225 6.072-7.94 8.894z" />
                <path d="m396.9 368h-15.643a204.85 204.85 0 0 1-17.881 41.108l22.3-7.433z" />
                <path d="m385.63 352h28.8a166.73 166.73 0 0 0 9.382-48h-31.943a244.1 244.1 0 0 1-6.239 48z" />
                <path
                    d="M416.411,410.53,408,385.3l-8.411,25.232a8,8,0,0,1-5.059,5.059L369.3,424l25.232,8.411a8,8,0,0,1,5.059,5.059L408,462.7l8.411-25.232a8,8,0,0,1,5.059-5.059L446.7,424l-25.232-8.411A8,8,0,0,1,416.411,410.53Z" />
                <path d="M264,288h47.931a449.313,449.313,0,0,0-3.276-48H264Z" />
                <path d="m157.07 432a166.48 166.48 0 0 0 16.647 10.664q-4.868-5.017-9.435-10.664z" />
                <path d="M264,461.971c8.28-4.147,16.538-14.522,23.811-29.971H264Z" />
                <path d="m104.16 368a167.98 167.98 0 0 0 34.04 48h14.6a201.67 201.67 0 0 1-22.056-48z" />
                <path d="m120.13 304h-31.946a166.73 166.73 0 0 0 9.382 48h28.8a244.1 244.1 0 0 1-6.236-48z" />
                <path
                    d="M152.8,176H138.467a167.9,167.9,0,0,0-27.209,34.685l20.472,10.236A200.522,200.522,0,0,1,152.8,176Z" />
                <path
                    d="m95.155 283.58a7.992 7.992 0 0 1-6.958 4.408v0.014h31.936a245.69 245.69 0 0 1 4.816-41.53l-14.986 7.493z" />
                <path
                    d="M100.422,240.845,118.111,232l-17.689-8.845a8,8,0,0,1-3.577-3.577L88,201.889l-8.845,17.689a8,8,0,0,1-3.577,3.577L57.889,232l17.689,8.845a8,8,0,0,1,3.577,3.577L88,262.111l8.845-17.689A8,8,0,0,1,100.422,240.845Z" />
                <path d="m200.07 288h47.931v-48h-44.655a449.31 449.31 0 0 0-3.276 48z" />
                <path d="m205.67 224h42.329v-48h-30.334a286.54 286.54 0 0 0-11.995 48z" />
                <path d="m173.2 149.88a168.88 168.88 0 0 0-15.742 10.123h6.826q4.316-5.343 8.916-10.123z" />
                <path d="m224.19 160h23.811v-29.97c-8.28 4.146-16.538 14.521-23.811 29.97z" />
                <path d="m217.67 416h30.334v-48h-42.329a286.57 286.57 0 0 0 11.995 48z" />
                <path d="m203.34 352h44.655v-48h-47.931a449.31 449.31 0 0 0 3.276 48z" />
                <path d="M248,461.971V432H224.189C231.462,447.449,239.72,457.824,248,461.971Z" />
                <path d="m172.1 176a179.58 179.58 0 0 0-24.514 48h41.88a315.85 315.85 0 0 1 11.289-48z" />
                <path d="m142.86 352h44.382a469.52 469.52 0 0 1-3.174-48h-47.927a226.72 226.72 0 0 0 6.719 48z" />
                <path d="m200.76 416a315.85 315.85 0 0 1-11.289-48h-41.88a179.58 179.58 0 0 0 24.511 48z" />
                <path d="m187.24 240h-44.382a226.72 226.72 0 0 0-6.719 48h47.927a469.52 469.52 0 0 1 3.174-48z" />
                <path d="m219.47 135.96a112.12 112.12 0 0 0-33.84 24.04h21.051a133.54 133.54 0 0 1 12.789-24.04z" />
                <path d="m185.63 432a112.12 112.12 0 0 0 33.84 24.04 133.54 133.54 0 0 1-12.789-24.04z" />
                <path
                    d="M479.155,84.422a8,8,0,0,0-10.733-3.577l-16,8A8,8,0,0,0,448,96v33.376A24,24,0,1,0,464,152V100.944l11.578-5.789A8,8,0,0,0,479.155,84.422ZM440,160a8,8,0,1,1,8-8A8.009,8.009,0,0,1,440,160Z" />
                <path
                    d="m88 416a8 8 0 0 0-8 8v25.376a24 24 0 1 0 16 22.624v-48a8 8 0 0 0-8-8zm-16 64a8 8 0 1 1 8-8 8.009 8.009 0 0 1-8 8z" />
                <path
                    d="M264,94.62v17.56c-2.06-.1-4.13-.15-6.21-.17-.92-.02-1.85-.02-2.78,0-.37-.01-.73,0-1.08.01h-.07q-2.94.03-5.86.17V94.62a23.878,23.878,0,0,0,16,0Z" />
                    <path d="M264,24V49.38a23.878,23.878,0,0,0-16,0V24a8,8,0,0,1,16,0Z" />
                </svg>
        </a>    
    </div>
    <div class="col-11 pt-2 pb-2 mb-1 mt-1">
      
    <label class="crumb-text"><i class="fas fa-caret-right mr-3"></i> My Ads</label>            

</div>
</div>    
<div class="d-flex justify-content-center align-self-center mt-2 bg-white">
    <div class="panel-order">
        {% if messages %}
          {% for message in messages%}
            {% if message.tags == 'error' %}
            <div class="alert alert-danger fade in alert-dismissible show">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                   <span aria-hidden="true" style="font-size:20px">×</span>
                 </button>    <strong>{{message}}.</strong> Please try again later!
               </div>
            {% endif %}
            {% if message.tags == 'success' %}
            <div class="alert alert-primary fade in alert-dismissible show">
                <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                   <span aria-hidden="true" style="font-size:20px">×</span>
                 </button>    <strong>{{message}}.</strong> 
               </div>
            {% endif %}
          {% endfor %}
        {% endif %}
        <div class="top justify-content-center">
            <label>Your published ads </label>
        <a href="{% url 'postanadd' %}"class="float-right post-ad"><i class="fas fa-plus mr-2"></i> Publish another ad</a>
        </div>
        <div class="panel-body">
            {% for key,rec in record.items  %}
            <div class="row">
                {% for k, val in ads_details_images.items %}
                {% if k == rec.id %}
                <div class="col-lg-1 col-sm-12 img p-0 text-center align-self-center"><img src="{{val.image.url}}" class="img"></div>
                <div class="col-lg-3 col-sm-12 p-0 title align-self-center text-left pt-2 pb-2">
                    <a href="{% url 'display' rec.id %}">{{rec.title}}</a>
                </div>
                <div class="col-lg-3 col-sm-12 status-1 text-center align-self-center pt-3 pb-2">
                    <i class="view-icon fas fa-eye"></i>
                    <label class="view-number">{{rec.views}}</label>
                    <i class="rating-icon fas fa-star ml-4"></i>
                    <label class="rating-number">{{rec.rating}}</label>
                    <i class="feature-icon fab fa-cc-visa ml-4"></i>
                    {% if rec.featured == False %}
                        <label class="feature-status">No</label>
                    {% else %}
                    <label class="feature-status">Yes</label>
                    {% endif %}
                    

                </div>
                <div class="col-lg-2 col-sm-12 p-0 text-center date align-self-center pt-3 pb-2">
                    <i class="fas fa-stopwatch"></i>
                    <label class="exp-date">{{rec.expiryDate}}</label>
                </div>
                <div class="col-lg-2 col-sm-12 p-0 status text-center align-self-center pt-3 pb-2">
                    <label class="{{rec.status}}">{{rec.status}}</label>



                </div>
                <div class="col-lg-1 col-sm-12 p-0 options text-center align-self-center pt-3 pb-2">
                    
                        <div class="dropdown">
                            <svg enable-background="new 0 0 512.002 512.002" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" version="1.1" viewBox="0 0 512 512" xml:space="preserve" xmlns="http://www.w3.org/2000/svg">
                                <path d="m496.65 312.11-47.061-36.8c1.459-12.844 1.459-25.812 0-38.656l47.104-36.821c8.827-7.109 11.186-19.575 5.568-29.419l-48.96-84.629c-5.639-9.906-17.649-14.232-28.309-10.197l-55.467 22.315c-10.423-7.562-21.588-14.045-33.323-19.349l-8.512-58.923c-1.535-11.312-11.24-19.72-22.656-19.627h-98.133c-11.321-0.068-20.948 8.246-22.528 19.456l-8.533 59.093c-11.699 5.355-22.846 11.843-33.28 19.371l-55.617-22.358c-10.55-4.159-22.549 0.115-28.096 10.005l-49.003 84.779c-5.769 9.86-3.394 22.463 5.568 29.547l47.061 36.8c-1.473 12.843-1.473 25.813 0 38.656l-47.104 36.8c-8.842 7.099-11.212 19.572-5.589 29.419l48.939 84.651c5.632 9.913 17.649 14.242 28.309 10.197l55.467-22.315c10.432 7.566 21.604 14.056 33.344 19.371l8.533 58.88c1.502 11.282 11.147 19.694 22.528 19.648h98.133c11.342 0.091 21-8.226 22.592-19.456l8.533-59.093c11.698-5.357 22.844-11.845 33.28-19.371l55.68 22.379c10.55 4.149 22.543-0.122 28.096-10.005l49.152-85.12c5.503-9.83 3.084-22.196-5.716-29.228zm-240.68 50.56c-58.91 0-106.67-47.756-106.67-106.67s47.756-106.67 106.67-106.67 106.67 47.756 106.67 106.67c-0.071 58.882-47.786 106.6-106.67 106.67z" fill="#455A64"/>                    
                                </svg>

                            <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                                <a class="dropdown-item" href="{% url 'edit' rec.id %}"><i class="fas fa-pen-square mr-3"></i>Edit</a>
                                <a class="dropdown-item" href="{% url 'delete' rec.id %}"><i class="fas fa-trash mr-3"></i>Delete</a>
                                {% if rec.status == 'Active' %}
                                <a class="dropdown-item" href="{% url 'deactivate' rec.id %}"><i class="fas fa-pause mr-3"></i>Deactivate</a>
                                {% else %}
                                <a class="dropdown-item" href="{% url 'activate' rec.id %}"><i class="fas fa-play mr-3"></i>Activate</a>
                                {% endif %}
                            </div>
                          </div>       
                </div>
                {% endif %}
                {% endfor %}

            </div>
            {% endfor %}

        </div>
    </div>
</div>



{% endblock %}