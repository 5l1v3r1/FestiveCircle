{% extends 'base.html' %}
{% load static %}
{% block script %}
<link rel="stylesheet" type="text/css" href="{% static 'user/css/profile.css' %}">
<script src="https://unpkg.com/gijgo@1.9.13/js/gijgo.min.js" type="text/javascript"></script>
    <link href="https://unpkg.com/gijgo@1.9.13/css/gijgo.min.css" rel="stylesheet" type="text/css" />
{% endblock%}

{% block content %}
<div class="row heading-container pr-5 pl-5 m-0 justify-content-center">
  <div class="col-1 pt-2 pb-2 mb-1 mt-1">
      <a href="{% url 'main' %}">
              <svg class="svg-logo" viewBox="0 0 512 512" >
              <circle  cx="256" cy="72" r="8" />
              <path d="m326.37 160a112.12 112.12 0 0 0-33.84-24.04 133.54 133.54 0 0 1 12.789 24.04z" />
              <path d="m264 160h23.811c-7.273-15.449-15.531-25.824-23.811-29.97z" />
              <path d="m354.33 160a168.94 168.94 0 0 0-15.312-9.9q4.479 4.682 8.7 9.9z" />
              <path d="m311.24 416h28.658a179.58 179.58 0 0 0 24.514-48h-41.88a315.85 315.85 0 0 1-11.292 48z" />
              <path d="M264,352h44.655a449.313,449.313,0,0,0,3.276-48H264Z" />
              <path d="M264,416h30.334a286.568,286.568,0,0,0,12-48H264Z" />
              <path d="m292.53 456.04a112.12 112.12 0 0 0 33.84-24.04h-21.051a133.54 133.54 0 0 1-12.789 24.04z" />
              <path
                  d="M342.656,107.562,352,121.578l9.344-14.016a8.02,8.02,0,0,1,2.218-2.218L377.578,96l-14.016-9.344a8.02,8.02,0,0,1-2.218-2.218L352,70.422l-9.344,14.016a8.02,8.02,0,0,1-2.218,2.218L326.422,96l14.016,9.344A8.02,8.02,0,0,1,342.656,107.562Z" />
              <path d="m375.86 288a226.72 226.72 0 0 0-6.719-48h-44.382a469.52 469.52 0 0 1 3.174 48z" />
              <path d="m369.14 352a226.72 226.72 0 0 0 6.719-48h-47.927a469.52 469.52 0 0 1-3.174 48z" />
              <path d="m264 176v48h42.329a286.54 286.54 0 0 0-12-48z" />
              <path d="m391.87 288h31.933a166.29 166.29 0 0 0-9.473-48h-28.7a244.1 244.1 0 0 1 6.24 48z" />
              <path d="m407.68 224a169.48 169.48 0 0 0-34.411-48h-14.07a201.71 201.71 0 0 1 22.055 48z" />
              <path d="m311.24 176a315.85 315.85 0 0 1 11.289 48h41.88a179.58 179.58 0 0 0-24.511-48z" />
              <path d="m338.72 442.21q6.188-3.5 12.076-7.515l-4.136-1.379c-2.572 3.117-5.225 6.072-7.94 8.894z" />
              <path d="m396.9 368h-15.643a204.85 204.85 0 0 1-17.881 41.108l22.3-7.433z" />
              <path d="m385.63 352h28.8a166.73 166.73 0 0 0 9.382-48h-31.943a244.1 244.1 0 0 1-6.239 48z" />
              <path
                  d="M416.411,410.53,408,385.3l-8.411,25.232a8,8,0,0,1-5.059,5.059L369.3,424l25.232,8.411a8,8,0,0,1,5.059,5.059L408,462.7l8.411-25.232a8,8,0,0,1,5.059-5.059L446.7,424l-25.232-8.411A8,8,0,0,1,416.411,410.53Z" />
              <path d="M264,288h47.931a449.313,449.313,0,0,0-3.276-48H264Z" />
              <path d="m157.07 432a166.48 166.48 0 0 0 16.647 10.664q-4.868-5.017-9.435-10.664z" />
              <path d="M264,461.971c8.28-4.147,16.538-14.522,23.811-29.971H264Z" />
              <path d="m104.16 368a167.98 167.98 0 0 0 34.04 48h14.6a201.67 201.67 0 0 1-22.056-48z" />
              <path d="m120.13 304h-31.946a166.73 166.73 0 0 0 9.382 48h28.8a244.1 244.1 0 0 1-6.236-48z" />
              <path
                  d="M152.8,176H138.467a167.9,167.9,0,0,0-27.209,34.685l20.472,10.236A200.522,200.522,0,0,1,152.8,176Z" />
              <path
                  d="m95.155 283.58a7.992 7.992 0 0 1-6.958 4.408v0.014h31.936a245.69 245.69 0 0 1 4.816-41.53l-14.986 7.493z" />
              <path
                  d="M100.422,240.845,118.111,232l-17.689-8.845a8,8,0,0,1-3.577-3.577L88,201.889l-8.845,17.689a8,8,0,0,1-3.577,3.577L57.889,232l17.689,8.845a8,8,0,0,1,3.577,3.577L88,262.111l8.845-17.689A8,8,0,0,1,100.422,240.845Z" />
              <path d="m200.07 288h47.931v-48h-44.655a449.31 449.31 0 0 0-3.276 48z" />
              <path d="m205.67 224h42.329v-48h-30.334a286.54 286.54 0 0 0-11.995 48z" />
              <path d="m173.2 149.88a168.88 168.88 0 0 0-15.742 10.123h6.826q4.316-5.343 8.916-10.123z" />
              <path d="m224.19 160h23.811v-29.97c-8.28 4.146-16.538 14.521-23.811 29.97z" />
              <path d="m217.67 416h30.334v-48h-42.329a286.57 286.57 0 0 0 11.995 48z" />
              <path d="m203.34 352h44.655v-48h-47.931a449.31 449.31 0 0 0 3.276 48z" />
              <path d="M248,461.971V432H224.189C231.462,447.449,239.72,457.824,248,461.971Z" />
              <path d="m172.1 176a179.58 179.58 0 0 0-24.514 48h41.88a315.85 315.85 0 0 1 11.289-48z" />
              <path d="m142.86 352h44.382a469.52 469.52 0 0 1-3.174-48h-47.927a226.72 226.72 0 0 0 6.719 48z" />
              <path d="m200.76 416a315.85 315.85 0 0 1-11.289-48h-41.88a179.58 179.58 0 0 0 24.511 48z" />
              <path d="m187.24 240h-44.382a226.72 226.72 0 0 0-6.719 48h47.927a469.52 469.52 0 0 1 3.174-48z" />
              <path d="m219.47 135.96a112.12 112.12 0 0 0-33.84 24.04h21.051a133.54 133.54 0 0 1 12.789-24.04z" />
              <path d="m185.63 432a112.12 112.12 0 0 0 33.84 24.04 133.54 133.54 0 0 1-12.789-24.04z" />
              <path
                  d="M479.155,84.422a8,8,0,0,0-10.733-3.577l-16,8A8,8,0,0,0,448,96v33.376A24,24,0,1,0,464,152V100.944l11.578-5.789A8,8,0,0,0,479.155,84.422ZM440,160a8,8,0,1,1,8-8A8.009,8.009,0,0,1,440,160Z" />
              <path
                  d="m88 416a8 8 0 0 0-8 8v25.376a24 24 0 1 0 16 22.624v-48a8 8 0 0 0-8-8zm-16 64a8 8 0 1 1 8-8 8.009 8.009 0 0 1-8 8z" />
              <path
                  d="M264,94.62v17.56c-2.06-.1-4.13-.15-6.21-.17-.92-.02-1.85-.02-2.78,0-.37-.01-.73,0-1.08.01h-.07q-2.94.03-5.86.17V94.62a23.878,23.878,0,0,0,16,0Z" />
                  <path d="M264,24V49.38a23.878,23.878,0,0,0-16,0V24a8,8,0,0,1,16,0Z" />
              </svg>
      </a>    
  </div>
  <div class="col-11 pt-2 pb-2 mb-1 mt-1">
    
  <label class="crumb-text"><i class="fas fa-caret-right mr-3"></i> Profile</label>            

</div>
</div> 


<div class="d-flex justify-content-center align-items-center">
  <form class="col-lg-7 col-sm-12 text-center profile" method='POST' id="form" enctype="multipart/form-data">
    {% csrf_token %}
    <div class="row">
      <div class="col-lg-3 col-sm-12 text-left p-0">
        <h3>
          My Profile
        </h3>
      </div>
      <div class="col-lg-6 col-sm-12 text-center align-items-center">
        <div class="thumb mr-auto ml-auto">
          <img id="avatar" {% if URL %}  src="{{ URL }}" {% else %}
        src="{% static 'user/images/avatar.png' %}"
        {% endif %}>
      </div>
      <div class="upload-img mt-4">
        <input type="file" name="avatar" id="selectedFile" style="display: none;" onchange="Filevalidation()" />
        
        <input class="upload-button" id="upload-button" type="button" value="Upload" onclick="document.getElementById('selectedFile').click();" />      </div>
        {% if messages %}
        {% for message in messages%}
          {% if message.tags == 'image error' %}
          <div class="mt-2"><label class="text-danger" id="server_file_label"><i class="fas fa-exclamation-circle"></i> {{ message }}</label></div>          
          {% endif %}
        {% endfor %}
      {% endif %}  
        <div class="mt-2"><label id="file_label"></label></div>
      </div>
  
      <div class="col-lg-3 col-sm-12 p-0 text-right">
        <a class="homepage" href="{% url 'main' %}"><span><i class="fas fa-home"></i></span> Go to homepage</a>
        
      </div>
        
    </div>
          
      <hr>
      <div class="row text-center mt-2">
        {% if messages %}
        {% for message in messages%}
          {% if message.tags == 'update info' %}
          <div class="mr-auto ml-auto box col-12">
            <div class="alert alert-info alert-dismissible fade show text-center" role="alert">
              <label class="update-success"><i class="fas fa-thumbs-up mr-2"></i>{{ message }}</label>
              
              <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
              </button>
            </div>
          </div><br>          
          {% endif %}
        {% endfor %}
      {% endif %}
        {% if Is_verified == False %}
        
        <div class="mr-auto ml-auto box col-12">
          <div class="alert alert-warning alert-dismissible fade show text-left" role="alert">
            <label class="not-verified mr-4"><i class="fas fa-exclamation-triangle mr-2"></i>Your email is not verified. Check your inbox for verification email or click <a href="#" data-dismiss="alert" aria-label="Close">here</a> to resend.</label>
            
            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
        </div><br>
        {% endif %}
        <div class="col-4 holder text-right my-auto">
          <label>Email</label>
        </div>
        <div class="col-8 holder text-left my-auto">
          <input id="profile-info" disabled name="fname" type="text" value="{{ Email }}" style="opacity: 0.7;">
          
        </div>
        
      </div>
      
      <div class="row text-center mt-2">
        <aside class="col-4"></aside>
        <div class="col-8 text-left">
          {% if messages %}
            {% for message in messages%}
              {% if message.tags == 'name error' %}
              <div><label class="text-danger" style="height: 20px"><i class="fas fa-exclamation-circle"></i> {{ message }}</label></div>          
              {% endif %}
            {% endfor %}
          {% endif %}
        </div>
        
        <div class="col-4 holder text-right my-auto">
          <label>Full Name</label>
        </div>
        <div class="col-8 holder text-left my-auto">
          <input id="profile-info" name="full_name" type="text" value="{{ Name }}">
          
        </div>
      </div>


      


      <div class="row text-center mt-2">
        <div class="col-4 text-right my-auto">
          <label>Country</label>
        </div>
        <div class="col-8 holder text-left my-auto">
          <input id="profile-info" disabled name="country" type="text" value="{{ Country }}" style="opacity: 0.7;">
          
        </div>
      </div>
      
      <div class="row text-center mt-2">
        
        <aside class="col-4"></aside>
        <div class="col-8 text-left">
          {% if messages %}
            {% for message in messages%}
              {% if message.tags == 'city error' %}
              <div><label class="text-danger" style="height: 20px"><i class="fas fa-exclamation-circle"></i> {{ message }}</label></div>          
              {% endif %}
            {% endfor %}
          {% endif %}
        </div>
        <div class="col-4 holder my-auto">
          <label>City</label>
        </div>
        <div class="col-8 holder text-left my-auto">
          <select name="city">
            {% if City %}
            <option value="{{ City }}">{{ City }}</option>
            {% endif %}
            <hr>
            <option value="Lahore">Lahore</option>
            <option value="Karachi">Karachi</option>
            <option value="Islamabad">Islamabad</option>
          </select>
          
        </div>
      </div>


      <div class="row text-left mt-2">
        <aside class="col-4"></aside>
        <div class="col-8 text-left">
          {% if messages %}
          {% for message in messages%}
          {% if message.tags == 'date error' %}
          <div><label class="text-danger" style="height: 20px"><i class="fas fa-exclamation-circle"></i>
              {{ message }}</label></div>
          {% endif %}
          {% endfor %}
          {% endif %}
        </div>
        
        
        <div class="col-4 holder text-right my-auto">
          <label>Date Of Birth</label>
        </div>
        <div class="col-8 holder text-left my-auto">
          <input name="date_of_birth" data-format="dd-mm-yyyy" id="datepicker" width="288" 
          {% if DOB != '--' %}
            value="{{ DOB }}"
          {% endif %} />
          <script>
            $('#datepicker').datepicker({
              uiLibrary: 'bootstrap4'
            });
          </script>
  
        </div>
      </div>
  



      <div class="row text-center mt-2">
        <aside class="col-4"></aside>
        <div class="col-8 text-left">
          {% if messages %}
          {% for message in messages%}
          {% if message.tags == 'contact error' %}
          <div><label class="text-danger" style="height: 20px"><i class="fas fa-exclamation-circle"></i>
              {{ message }}</label></div>
          {% endif %}
          {% endfor %}
          {% endif %}
        </div>

        <div class="col-4 holder text-right my-auto">
          <label>Contact Number</label>
        </div>
        <div class="col-8 holder text-left my-auto">
        <div class="input-group mb-2">
          <div class="input-group-prepend">
            <div class="input-group-text">+91</div>
          </div>
          <input id="inlineFormInputGroup" type="number" maxlength="10" minlength="10" name="phone_number" placeholder="XXX XXXXXXX" style="width:239px"
          {% if Contact %}
            value="{{ Contact }}"
          {% endif %}
          >
        </div>
          <!-- <a href="#" class="add-num">Add Number</a> -->
        
        </div>
      </div>
      {% if user.is_authenticated and not backends.associated %}

      <div class="row text-center mt-2 mb-3">
        <div class="col-4 holder text-right my-auto">
          <label>Password</label>
        </div>
        <div class="col-8 holder text-left  my-auto">
        <a href="{% url 'verify' %}" class="add-num">Update Password</a>
        </div>
      </div>

      {% endif %}            

    <hr>

    <div class="form-group text-center pt-3">
     

      <button class="float-right save-button" type="submit"  >
       Update
      </button>

    </div>
  
  </form>



</div>
<script>

</script>


<br>
<br>
{% endblock content %}

{% block footscripts %}
<script src="{% static 'user/js/input_validation.js' %}"></script>
{% endblock footscripts %}